var e=Object.defineProperty,t=(t,a,r)=>((t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r)(t,"symbol"!=typeof a?a+"":a,r);import{r as a,a as r,b as n,N as s,c as i,u as o,B as l}from"./vendor-3cGwHoxL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var c,d,p={exports:{}},m={};var g,h=(d||(d=1,p.exports=function(){if(c)return m;c=1;var e=a(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,a,r){var o,l={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==a.key&&(c=""+a.key),void 0!==a.ref&&(d=a.ref),a)n.call(a,o)&&!i.hasOwnProperty(o)&&(l[o]=a[o]);if(e&&e.defaultProps)for(o in a=e.defaultProps)void 0===l[o]&&(l[o]=a[o]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:s.current}}return m.Fragment=r,m.jsx=o,m.jsxs=o,m}()),p.exports),_={};var u=function(){if(g)return _;g=1;var e=r();return _.createRoot=e.createRoot,_.hydrateRoot=e.hydrateRoot,_}();const b=class e{constructor(){t(this,"_mockModeOverride",null),t(this,"_bridgeAvailable",null),t(this,"_checkingAvailability",!1),t(this,"_apiBaseUrl",null)}get mockMode(){var e,t;return null!==this._mockModeOverride?this._mockModeOverride:"undefined"==typeof window||!0!==this._bridgeAvailable&&((null==(t=null==(e=window.MiracleBridge)?void 0:e.isReady)?void 0:t.call(e))?(this._bridgeAvailable=!0,!1):!1===this._bridgeAvailable)}setMockMode(e){this._mockModeOverride=e,console.log("[BridgeClient] Mock mode "+(null===e?"auto":e?"enabled":"disabled"))}async checkBridgeAvailability(){if(null!==this._bridgeAvailable)return this._bridgeAvailable;if(this._checkingAvailability)return await new Promise(e=>setTimeout(e,100)),this._bridgeAvailable??!1;this._checkingAvailability=!0;try{const t=`http://127.0.0.1:${e.DEFAULT_EMBEDDED_PORT}/api/ping`,a=await fetch(t,{method:"POST",body:"{}"});this._bridgeAvailable=a.ok,this._bridgeAvailable&&(this._apiBaseUrl=`http://127.0.0.1:${e.DEFAULT_EMBEDDED_PORT}`)}catch{this._bridgeAvailable=!1}return this._checkingAvailability=!1,console.log(`[BridgeClient] Bridge availability: ${this._bridgeAvailable}`),this._bridgeAvailable}configure(e){var t;this.mockMode?console.log("[Mock] configure:",e):(null==(t=window.MiracleBridge)?void 0:t.configure)&&window.MiracleBridge.configure(e)}enableDebug(){var e;this.mockMode?console.log("[Mock] debug enabled"):(null==(e=window.MiracleBridge)?void 0:e.enableDebug)&&window.MiracleBridge.enableDebug()}getStatus(){var e;return this.mockMode?{ready:!1,pendingRequests:0,eventListeners:[],config:{timeout:3e4,debug:!1,pollInterval:50}}:(null==(e=window.MiracleBridge)?void 0:e.getStatus)?window.MiracleBridge.getStatus():{ready:!0,pendingRequests:0,eventListeners:[],config:{timeout:3e4,debug:!1,pollInterval:50}}}async call(e,t={}){var a;if(this.mockMode)return console.log("[Mock] call:",e,t),this.getMockResponse(e);const r=this.getApiUrl(e);try{const e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Bridge request failed: ${e.status} ${e.statusText}`);const a=await e.json();if(a.error)throw new Error(a.error);return a}catch(n){if(console.debug("[BridgeClient] HTTP fetch failed, trying window.MiracleBridge:",n),null==(a=window.MiracleBridge)?void 0:a.call)return window.MiracleBridge.call(e,t);throw n}}getApiUrl(t){if(this._apiBaseUrl)return`${this._apiBaseUrl}/api/${t}`;const a=window.location.origin;if(a.includes("127.0.0.1")||a.includes("localhost")){window.location.port===String(e.DEFAULT_EMBEDDED_PORT)?this._apiBaseUrl=a:this._apiBaseUrl=`http://127.0.0.1:${e.DEFAULT_EMBEDDED_PORT}`}else this._apiBaseUrl=`http://127.0.0.1:${e.DEFAULT_EMBEDDED_PORT}`;return`${this._apiBaseUrl}/api/${t}`}async callServer(e,t={}){return this.call(e,t)}on(e,t){var a;this.mockMode?console.log("[Mock] on:",e):("undefined"!=typeof window&&window.addEventListener(e,e=>{t(e.detail)}),(null==(a=window.MiracleBridge)?void 0:a.on)&&window.MiracleBridge.on(e,t))}off(e,t){var a;this.mockMode?console.log("[Mock] off:",e):(null==(a=window.MiracleBridge)?void 0:a.off)&&window.MiracleBridge.off(e,t)}once(e,t){var a;this.mockMode?console.log("[Mock] once:",e):(null==(a=window.MiracleBridge)?void 0:a.once)&&window.MiracleBridge.once(e,t)}async getPlayerInfo(){if(this.mockMode)return this.getMockPlayerInfo();try{const e=await this.call("getPlayerInfo");return e.position||(e.position={x:0,y:64,z:0}),e}catch(e){return console.warn("[BridgeClient] getPlayerInfo failed, using mock data:",e),this.getMockPlayerInfo()}}async getInventory(){return this.mockMode?{slots:[]}:this.call("getInventory")}async teleport(e,t,a){this.mockMode?console.log("[Mock] teleport:",e,t,a):await this.call("teleport",{x:e,y:t,z:a})}async sendChat(e){this.mockMode?console.log("[Mock] sendChat:",e):await this.call("sendChat",{message:e})}async executeCommand(e){this.mockMode?console.log("[Mock] executeCommand:",e):await this.call("executeCommand",{command:e})}async animaChat(e,t){if(this.mockMode){console.log("[Mock] anima.chat:",e,t);const a=`mock-${Date.now()}`;return setTimeout(()=>{this.mockStudentReply(a,e,t)},1e3+1e3*Math.random()),{success:!0,requestId:a}}return this.call("anima.chat",{studentId:e,message:t})}async animaGetStudents(){return this.mockMode?(console.log("[Mock] anima.getStudents"),{success:!0,students:[{id:"arona",name:"é˜¿ç½—å¨œ",nameEn:"Arona",school:"è”é‚¦å­¦ç”Ÿä¼š",club:"Shittim ç®±",role:"ç³»ç»Ÿç®¡ç† AI",hasActiveSession:!1}]}):this.call("anima.getStudents",{})}async animaGetStudent(e){return this.mockMode?(console.log("[Mock] anima.getStudent:",e),"arona"===e.toLowerCase()?{success:!0,student:{id:"arona",name:"é˜¿ç½—å¨œ",nameEn:"Arona",school:"è”é‚¦å­¦ç”Ÿä¼š",club:"Shittim ç®±",role:"ç³»ç»Ÿç®¡ç† AI",hasActiveSession:!1}}:{success:!1,error:"æœªæ‰¾åˆ°å­¦ç”Ÿ"}):this.call("anima.getStudent",{studentId:e})}async animaClearHistory(e){return this.mockMode?(console.log("[Mock] anima.clearHistory:",e),{success:!0}):this.call("anima.clearHistory",e?{studentId:e}:{})}onStudentReply(e){this.on("studentReply",e)}offStudentReply(e){this.off("studentReply",e)}mockStudentReply(e,t,a){const r={arona:["è€å¸ˆï¼Œæ—©ä¸Šå¥½~ï¼ä»Šå¤©ä¹Ÿè¦ä¸€èµ·åŠ æ²¹å“¦ï¼(â‰§â–½â‰¦)","é˜¿ç½—å¨œä¼šä¸€ç›´é™ªç€è€å¸ˆçš„ï¼","å˜¿å˜¿ï¼Œè€å¸ˆè¯´çš„è¯é˜¿ç½—å¨œéƒ½è®°ä½äº†~","è€å¸ˆæœ‰ä»€ä¹ˆéœ€è¦å¸®å¿™çš„å—ï¼Ÿé˜¿ç½—å¨œéšæ—¶å¾…å‘½ï¼"]}[t.toLowerCase()]||["æ”¶åˆ°è€å¸ˆçš„æ¶ˆæ¯äº†~"],n={requestId:e,studentId:t,success:!0,content:r[Math.floor(Math.random()*r.length)],promptTokens:100,completionTokens:50};this.mockMode&&"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("studentReply",{detail:n}))}getMockPlayerInfo(){return{name:"Sensei",uuid:"00000000-0000-0000-0000-000000000000",health:20,maxHealth:20,hunger:20,level:1,position:{x:0,y:64,z:0},dimension:"minecraft:overworld",gameMode:"survival"}}getMockResponse(e){return{getPlayerInfo:this.getMockPlayerInfo(),getInventory:{slots:[]},getStudents:[],getTasks:[]}[e]??{success:!0}}};t(b,"DEFAULT_EMBEDDED_PORT",25555);const I=new b;function A(){const[e,t]=n.useState(!1);return n.useEffect(()=>{(async function(){return"undefined"==typeof window||(await I.checkBridgeAvailability()?(console.log("[MiracleBridge] HTTP API available"),!0):(window.MiracleBridge||await new Promise(e=>{const t=setInterval(()=>{window.MiracleBridge&&(clearInterval(t),e())},100);setTimeout(()=>{clearInterval(t),console.log("[MiracleBridge] Minecraft not detected, entering mock mode"),e()},1e3)}),!window.MiracleBridge||(await window.MiracleBridge.whenReady(),window.MiracleBridge.isReady())))})().then(t)},[]),e}function x(){const{player:e,loading:t}=function(){const[e,t]=n.useState(null),[a,r]=n.useState(!0),[s,i]=n.useState(null),o=n.useCallback(async()=>{try{r(!0);const e=await I.getPlayerInfo();t(e),i(null)}catch(e){i(e instanceof Error?e:new Error(String(e)))}finally{r(!1)}},[]);return n.useEffect(()=>{o()},[o]),{player:e,loading:a,error:s,refresh:o}}();return h.jsxs("div",{className:"space-y-6 animate-fade-in",children:[h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"æ¬¢è¿Žå›žæ¥ï¼Œè€å¸ˆï¼"}),h.jsx("p",{className:"text-gray-500",children:t?"æ­£åœ¨èŽ·å–ä¿¡æ¯...":`å½“å‰çŽ©å®¶: ${(null==e?void 0:e.name)??"æœªçŸ¥"}`})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx(N,{title:"MomoTalk",description:"ä¸Žå­¦ç”Ÿä»¬èŠå¤©",icon:"ðŸ’¬",href:"/momotalk",color:"bg-pink-50 border-pink-200"}),h.jsx(N,{title:"å­¦ç”Ÿ",description:"æŸ¥çœ‹å­¦ç”Ÿä¿¡æ¯",icon:"ðŸ‘¥",href:"/students",color:"bg-blue-50 border-blue-200"}),h.jsx(N,{title:"å§”æ‰˜ä»»åŠ¡",description:"æ—¥å¸¸ä¸Žå‘¨å¸¸ä»»åŠ¡",icon:"ðŸ“‹",href:"/tasks",color:"bg-yellow-50 border-yellow-200"}),h.jsx(N,{title:"è®¾ç½®",description:"ç³»ç»Ÿè®¾ç½®",icon:"âš™ï¸",href:"/settings",color:"bg-gray-50 border-gray-200"})]}),e&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"çŽ©å®¶çŠ¶æ€"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsx(f,{label:"ç”Ÿå‘½å€¼",value:`${e.health??0}/${e.maxHealth??20}`,icon:"â¤ï¸"}),h.jsx(f,{label:"é¥±é£Ÿåº¦",value:`${e.hunger??0}/20`,icon:"ðŸ–"}),h.jsx(f,{label:"ç­‰çº§",value:`Lv.${e.level??0}`,icon:"â­"})]}),e.position&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[h.jsxs("p",{className:"text-sm text-gray-500",children:["ðŸ“ ä½ç½®: ",Math.floor(e.position.x),", ",Math.floor(e.position.y),", ",Math.floor(e.position.z)]}),h.jsxs("p",{className:"text-sm text-gray-500",children:["ðŸŒ ç»´åº¦: ",(e.dimension??"overworld").replace("minecraft:","")]})]})]})]})}function N({title:e,description:t,icon:a,href:r,color:n}){return h.jsxs("a",{href:r,className:`card card-hover p-4 ${n} transition-all duration-200`,children:[h.jsx("div",{className:"text-3xl mb-2",children:a}),h.jsx("h3",{className:"font-semibold text-gray-800",children:e}),h.jsx("p",{className:"text-sm text-gray-500",children:t})]})}function f({label:e,value:t,icon:a}){return h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl mb-1",children:a}),h.jsx("div",{className:"font-semibold text-gray-800",children:t}),h.jsx("div",{className:"text-xs text-gray-500",children:e})]})}const E={ARIS:{zh:"çˆ±ä¸½ä¸",en:"Aris"},MOMOI:{zh:"æ¡ƒäº•",en:"Momoi"},MIDORI:{zh:"ç»¿",en:"Midori"},YUZU:{zh:"æŸšå­",en:"Yuzu"},HOSHINO:{zh:"æ˜Ÿé‡Ž",en:"Hoshino"},SHIROKO:{zh:"ç™½å­",en:"Shiroko"},NONOMI:{zh:"é‡Žå®«",en:"Nonomi"},SERIKA:{zh:"èŠ¹é¦™",en:"Serika"},AYANE:{zh:"ç»«éŸ³",en:"Ayane"},ARU:{zh:"é˜¿éœ²",en:"Aru"},MUTSUKI:{zh:"ç¦æœˆ",en:"Mutsuki"},HARUKA:{zh:"é¥é¦™",en:"Haruka"},KAYUKO:{zh:"ä½³ä»£å­",en:"Kayoko"},HINA:{zh:"æ—¥å¥ˆ",en:"Hina"},AKO:{zh:"äºšå­",en:"Ako"},IORI:{zh:"ä¼Šç»‡",en:"Iori"},CHIAKI:{zh:"åƒæ˜Ž",en:"Chiaki"},HIFUMI:{zh:"æ—¥å¯Œç¾Ž",en:"Hifumi"},HANAKO:{zh:"èŠ±å­",en:"Hanako"},KOHARU:{zh:"å°æ˜¥",en:"Koharu"},AZUSA:{zh:"æ¢“",en:"Azusa"},HARUNA:{zh:"æ™´å¥ˆ",en:"Haruna"},JUNKO:{zh:"çº¯å­",en:"Junko"},FUUKA:{zh:"æž«é¦™",en:"Fuuka"},ASUNA:{zh:"æ˜Žæ—¥å¥ˆ",en:"Asuna"},NERU:{zh:"å¦®ç¦„",en:"Neru"},YUUKA:{zh:"ä¼˜é¦™",en:"Yuuka"},HIMARI:{zh:"æ—¥éž ",en:"Himari"},TOKI:{zh:"æ—¶",en:"Toki"},MIKA:{zh:"æœªèŠ±",en:"Mika"},NAGISA:{zh:"æ¸š",en:"Nagisa"},WAKAMO:{zh:"è‹¥è—»",en:"Wakamo"},ARONA:{zh:"é˜¿ç½—å¨œ",en:"Arona"},PLANA:{zh:"æ™®æ‹‰å¨œ",en:"Plana"},SENSEI:{zh:"è€å¸ˆ",en:"Sensei"}};function y(e,t="zh"){const a=E[e.toUpperCase()];return a?a[t]??a.zh??e:e}const S={ARIS:["ba_portrait_ARIS.png","ba_portrait_ARIS2.png","ba_portrait_ARIS3.png"],MOMOI:["ba_portrait_MOMOI.png","ba_portrait_MOMOI2.png","ba_portrait_MOMOI3.png"],MIDORI:["ba_portrait_MIDORI.png","ba_portrait_MIDORI2.png","ba_portrait_MIDORI3.png"],YUZU:["ba_portrait_YUZU.png","ba_portrait_YUZU2.png","ba_portrait_YUZU3.png"],HOSHINO:["ba_portrait_HOSHINO.png","ba_portrait_HOSHINO2.png","ba_portrait_HOSHINO3.png","ba_portrait_HOSHINO4.png","ba_portrait_HOSHINO5.png","ba_portrait_HOSHINO6.png","ba_portrait_HOSHINO7.png","ba_portrait_HOSHINO8.png"],SHIROKO:["ba_portrait_SHIROKO.png","ba_portrait_SHIROKO2.png","ba_portrait_SHIROKO3.png","ba_portrait_SHIROKO4.png"],NONOMI:["ba_portrait_NONOMI.png","ba_portrait_NONOMI2.png","ba_portrait_NONOMI3.png","ba_portrait_NONOMI4.png"],SERIKA:["ba_portrait_SERIKA.png","ba_portrait_SERIKA2.png","ba_portrait_SERIKA3.png","ba_portrait_SERIKA4.png","ba_portrait_SERIKA5.png","ba_portrait_SERIKA6.png","ba_portrait_SERIKA7.png"],AYANE:["ba_portrait_AYANE.png","ba_portrait_AYANE2.png","ba_portrait_AYANE3.png","ba_portrait_AYANE4.png"],ARU:["ba_portrait_ARU.png","ba_portrait_ARU2.png","ba_portrait_ARU3.png","ba_portrait_ARU4.png","ba_portrait_ARU5.png"],MUTSUKI:["ba_portrait_MUTSUKI.png","ba_portrait_MUTSUKI2.png","ba_portrait_MUTSUKI3.png","ba_portrait_MUTSUKI4.png","ba_portrait_MUTSUKI5.png"],HARUKA:["ba_portrait_HARUKA.png","ba_portrait_HARUKA2.png","ba_portrait_HARUKA3.png","ba_portrait_HARUKA4.png"],KAYUKO:["ba_portrait_KAYUKO.png","ba_portrait_KAYUKO2.png","ba_portrait_KAYUKO3.png","ba_portrait_KAYUKO4.png"],CHINATSU:["ba_portrait_CHINATSU.png","ba_portrait_CHINATSU2.png"],NODOKA:["ba_portrait_NODOKA.png"],HIFUMI:["ba_portrait_HIFUMI.png","ba_portrait_HIFUMI2.png"],HANAKO:["ba_portrait_HANAKO.png","ba_portrait_HANAKO2.png","ba_portrait_HANAKO3.png"],KOHARU:["ba_portrait_KOHARU.png","ba_portrait_KOHARU2.png"],AZUSA:["ba_portrait_AZUSA.png","ba_portrait_AZUSA2.png","ba_portrait_AZUSA3.png","ba_portrait_AZUSA4.png"],HINA:["ba_portrait_HINA.png","ba_portrait_HINA2.png","ba_portrait_HINA3.png","ba_portrait_HINA4.png"],AKO:["ba_portrait_AKO.png","ba_portrait_AKO2.png","ba_portrait_AKO3.png","ba_portrait_AKO4.png"],IORI:["ba_portrait_IORI.png","ba_portrait_IORI2.png"],CHIAKI:["ba_portrait_CHIAKI.png"],HARUNA:["ba_portrait_HARUNA.png","ba_portrait_HARUNA2.png","ba_portrait_HARUNA3.png"],JUNKO:["ba_portrait_JUNKO.png","ba_portrait_JUNKO2.png"],FUUKA:["ba_portrait_HUUKA.png","ba_portrait_HUUKA2.png","ba_portrait_HUUKA3.png","ba_portrait_HUUKA4.png","ba_portrait_HUUKA5.png","ba_portrait_HUUKA6.png"],SERINA:["ba_portrait_SERINA.png","ba_portrait_SERINA2.png","ba_portrait_SERINA3.png"],HANAE:["ba_portrait_HANAE.png","ba_portrait_HANAE2.png","ba_portrait_HANAE3.png"],AYUMI:["ba_portrait_AYUME.png"],KOTORI:["ba_portrait_KOTORI.png","ba_portrait_KOTORI2.png"],HASUMI:["ba_portrait_HASUMI.png","ba_portrait_HASUMI2.png","ba_portrait_HASUMI3.png"],TSURUGI:["ba_portrait_TSURUGI.png","ba_portrait_TSURUGI2.png","ba_portrait_TSURUGI3.png"],CHISE:["ba_portrait_CHISE.png","ba_portrait_CHISE2.png"],HIBIKI:["ba_portrait_HIBIKI.png","ba_portrait_HIBIKI2.png"],UTAHA:["ba_portrait_UTAHA.png","ba_portrait_UTAHA2.png","ba_portrait_UTAHA3.png"],KOTAMA:["ba_portrait_KOTAMA.png","ba_portrait_KOTAMA2.png","ba_portrait_KOTAMA3.png","ba_portrait_KOTAMA4.png"],NATSUME:["ba_portrait_NATSU.png","ba_portrait_NATSU2.png","ba_portrait_NATSU3.png"],SUMIRE:["ba_portrait_SUMIRE.png","ba_portrait_SUMIRE2.png"],SHIZUKO:["ba_portrait_SHIZUKO.png","ba_portrait_SHIZUKO2.png"],MARI:["ba_portrait_MARI.png","ba_portrait_MARI2.png","ba_portrait_MARI3.png"],HINATA:["ba_portrait_HINATA.png","ba_portrait_HINATA2.png"],AKARI:["ba_portrait_AKARI.png","ba_portrait_AKARI2.png"],NAGISA:["ba_portrait_NAGISA.png","ba_portrait_NAGISA2.png"],MIKA:["ba_portrait_MIKA.png","ba_portrait_MIKA2.png","ba_portrait_MIKA3.png","ba_portrait_MIKA4.png"],SEIA:["ba_portrait_SEIYA.png","ba_portrait_SEIYA2.png"],CHERINO:["ba_portrait_CHERINO.png","ba_portrait_CHERINO2.png","ba_portrait_CHERINO3.png"],NODOKA_CHERINO:["ba_portrait_NODOKA.png"],SAORI:["ba_portrait_SAORI.png","ba_portrait_SAORI2.png","ba_portrait_SAORI3.png","ba_portrait_SAORI4.png","ba_portrait_SAORI5.png"],MIYAKO:["ba_portrait_MIYAKO.png","ba_portrait_MIYAKO2.png","ba_portrait_MIYAKO3.png"],HIYORI:["ba_portrait_HIYURI.png","ba_portrait_HIYURI2.png"],HIMARI:["ba_portrait_HIMARI.png","ba_portrait_HIMARI1.png","ba_portrait_HIMARI2.png","ba_portrait_HIMARI3.png","ba_portrait_HIMARI4.png"],EIMI:["ba_portrait_EIMI.png","ba_portrait_EIMI2.png"],KARIN:["ba_portrait_KARIN.png","ba_portrait_KARIN2.png","ba_portrait_KARIN3.png"],ASUNA:["ba_portrait_ASUNA.png","ba_portrait_ASUNA2.png","ba_portrait_ASUNA3.png"],NERU:["ba_portrait_NERU.png","ba_portrait_NERU2.png","ba_portrait_NERU3.png"],KANNA:["ba_portrait_KANNA.png","ba_portrait_KANNA2.png"],SHUN:["ba_portrait_SHUN.png","ba_portrait_SHUN2.png"],KASUMI:["ba_portrait_KASUMI.png","ba_portrait_KASUMI2.png"],IZUNA:["ba_portrait_IZUNA.png","ba_portrait_IZUNA2.png"],TSUBAKI:["ba_portrait_TSUBAKI.png","ba_portrait_TSUBAKI2.png"],TOKI:["ba_portrait_TOKI.png","ba_portrait_TOKI2.png","ba_portrait_TOKI3.png"],WAKAMO:["ba_portrait_WAKAMO.png"],YUUKA:["ba_portrait_YUUKA.png","ba_portrait_YUUKA2.png","ba_portrait_YUUKA3.png","ba_portrait_YUUKA4.png"],NOA:["ba_portrait_NOA.png","ba_portrait_NOA2.png"],KAZUSA:["ba_portrait_KAZUSA.png","ba_portrait_KAZUSA2.png","ba_portrait_KAZUSA3.png"],MASHIRO:["ba_portrait_MASHIRO.png","ba_portrait_MASHIRO2.png"],SAKI:["ba_portrait_SAKI.png","ba_portrait_SAKI2.png","ba_portrait_SAKI3.png"],AKANE:["ba_portrait_AKANE.png","ba_portrait_AKANE2.png","ba_portrait_AKANE3.png"],FUBUKI:["ba_portrait_FUBUKI.png","ba_portrait_FUBUKI2.png","ba_portrait_FUBUKI3.png"],ATSUKO:["ba_portrait_ATSUKO.png","ba_portrait_ATSUKO2.png"],ARONA:["ba_portrait_OS_ARONA.png"],PLANA:["ba_portrait_OS_PLANA.png"],SENSEI:["ba_portrait_ZPLAYER.png"]};function R(e){const t=S[e.toUpperCase()];return t&&0!==t.length?`/portraits/${t[0]}`:null}const M={GAME_DEV:{name:"æ¸¸æˆå¼€å‘éƒ¨",academy:"MILLENNIUM",description:"ç”±çˆ±ä¸½ä¸é¢†å¯¼çš„æ¸¸æˆå¼€å‘ç¤¾å›¢"},COUNTERMEASURE:{name:"å¯¹ç­–å§”å‘˜ä¼š",academy:"ABYDOS",description:"é˜¿æ‹œå¤šæ–¯çš„å­¦ç”Ÿç»„ç»‡"},PROBLEM_SOLVER_68:{name:"ä¾¿åˆ©å±‹68",academy:"GEHENNA",description:"ä»€ä¹ˆéƒ½åšçš„ä¾¿åˆ©å±‹"},DISCIPLINARY:{name:"é£Žçºªå§”å‘˜ä¼š",academy:"GEHENNA",description:"æ ¼é»‘å¨œçš„çºªå¾‹ç»´æŠ¤ç»„ç»‡"},SUPPLEMENTARY:{name:"è¡¥ä¹ éƒ¨",academy:"TRINITY",description:"ä¸“æ³¨äºŽå­¦ä¸šè¾…å¯¼çš„ç¤¾å›¢"},GOURMET:{name:"ç¾Žé£Ÿç ”ç©¶ä¼š",academy:"GEHENNA",description:"ç ”ç©¶ç¾Žé£Ÿçš„ç¤¾å›¢"},HOT_SPRING:{name:"æ¸©æ³‰å¼€å‘éƒ¨",academy:"MILLENNIUM",description:"å¼€å‘æ¸©æ³‰è®¾æ–½çš„ç¤¾å›¢"},RESCUE_KNIGHT:{name:"æ•‘æŠ¤éª‘å£«å›¢",academy:"TRINITY",description:"æä¾›åŒ»ç–—æ•‘åŠ©çš„ç»„ç»‡"},JUSTICE:{name:"æ­£ä¹‰å®žçŽ°å§”å‘˜ä¼š",academy:"TRINITY",description:"ç»´æŠ¤æ­£ä¹‰çš„å§”å‘˜ä¼š"},ENGINEERING:{name:"å·¥ç¨‹éƒ¨",academy:"MILLENNIUM",description:"è´Ÿè´£æŠ€æœ¯å·¥ç¨‹çš„éƒ¨é—¨"},PARANORMAL:{name:"ç‰¹å¼‚çŽ°è±¡æœæŸ¥éƒ¨",academy:"MILLENNIUM",description:"è°ƒæŸ¥è¶…è‡ªç„¶çŽ°è±¡çš„éƒ¨é—¨"},SISTERHOOD:{name:"ä¿®å¥³ä¼š",academy:"TRINITY",description:"åœ£ä¸‰ä¸€çš„ä¿®å¥³ç»„ç»‡"},SUPPLY:{name:"è¡¥ç»™éƒ¨",academy:"TRINITY",description:"è´Ÿè´£åŽå‹¤è¡¥ç»™çš„éƒ¨é—¨"},SAINTS:{name:"åœ£å¾’ä¼š",academy:"TRINITY",description:"åœ£ä¸‰ä¸€çš„æœ€é«˜å­¦ç”Ÿä¼š"},RED_WINTER_COUNCIL:{name:"çº¢å†¬å­¦ç”Ÿä¼š",academy:"RED_WINTER",description:"çº¢å†¬çš„å­¦ç”Ÿä¼š"},PANDEMONIUM:{name:"ä¸‡é­”æ®¿",academy:"GEHENNA",description:"æ ¼é»‘å¨œçš„ç¥žç§˜ç»„ç»‡"},SUPERNATURAL:{name:"è¶…çŽ°è±¡ç‰¹åŠ¡éƒ¨",academy:"MILLENNIUM",description:"è¶…çŽ°è±¡è°ƒæŸ¥ç‰¹åŠ¡éƒ¨é—¨"},EMERGENCY:{name:"æ€¥æ•‘åŒ»å­¦éƒ¨",academy:"TRINITY",description:"æ€¥æ•‘åŒ»ç–—éƒ¨é—¨"},OTHER:{name:"å…¶ä»–",academy:"MILLENNIUM",description:"æœªå½’å±žç‰¹å®šç¤¾å›¢"}},v={ABYDOS:{name:"é˜¿æ‹œå¤šæ–¯",color:"#5DADE2"},GEHENNA:{name:"æ ¼é»‘å¨œ",color:"#E74C3C"},TRINITY:{name:"åœ£ä¸‰ä¸€",color:"#F1C40F"},MILLENNIUM:{name:"åƒå¹´",color:"#3498DB"},RED_WINTER:{name:"çº¢å†¬",color:"#C0392B"},SRT:{name:"SRTç‰¹æ®Šå­¦å›­",color:"#9B59B6"},VALKYRIE:{name:"ç“¦å°”åŸºé‡Œ",color:"#1ABC9C"},HYAKKIYAKO:{name:"ç™¾é¬¼å¤œè¡Œ",color:"#E67E22"},SHANHAIJING:{name:"å±±æµ·ç»",color:"#27AE60"},ARIUS:{name:"é˜¿é‡Œä¹Œæ–¯",color:"#34495E"}};function O(e,t,a,r=3,n="STRIKER",s="EXPLOSIVE",i=1,o=!0){return{id:e,name:y(e,"zh"),nameJp:void 0,nameEn:y(e,"en"),academy:t,club:a,rarity:r,role:n,attackType:s,avatar:(l=e,l.toUpperCase()in S?R(e):null),relationship:i,unlocked:o};var l}const j=[O("ARIS","MILLENNIUM","GAME_DEV",3,"STRIKER","MYSTIC",7,!0),O("MOMOI","MILLENNIUM","GAME_DEV",3,"STRIKER","PIERCING",5,!0),O("MIDORI","MILLENNIUM","GAME_DEV",3,"SPECIAL","PIERCING",5,!0),O("YUZU","MILLENNIUM","GAME_DEV",2,"STRIKER","PIERCING",4,!0),O("HOSHINO","ABYDOS","COUNTERMEASURE",3,"STRIKER","EXPLOSIVE",6,!0),O("SHIROKO","ABYDOS","COUNTERMEASURE",3,"STRIKER","EXPLOSIVE",6,!0),O("NONOMI","ABYDOS","COUNTERMEASURE",2,"STRIKER","EXPLOSIVE",4,!0),O("SERIKA","ABYDOS","COUNTERMEASURE",2,"STRIKER","EXPLOSIVE",4,!0),O("AYANE","ABYDOS","COUNTERMEASURE",2,"SPECIAL","EXPLOSIVE",3,!0),O("ARU","GEHENNA","PROBLEM_SOLVER_68",3,"STRIKER","EXPLOSIVE",5,!0),O("MUTSUKI","GEHENNA","PROBLEM_SOLVER_68",3,"STRIKER","EXPLOSIVE",4,!0),O("HARUKA","GEHENNA","PROBLEM_SOLVER_68",3,"SPECIAL","EXPLOSIVE",3,!0),O("KAYUKO","GEHENNA","PROBLEM_SOLVER_68",3,"STRIKER","PIERCING",3,!0),O("HINA","GEHENNA","DISCIPLINARY",3,"STRIKER","EXPLOSIVE",7,!0),O("AKO","GEHENNA","DISCIPLINARY",3,"SPECIAL","MYSTIC",5,!0),O("IORI","GEHENNA","DISCIPLINARY",3,"STRIKER","PIERCING",4,!0),O("CHIAKI","GEHENNA","DISCIPLINARY",2,"STRIKER","EXPLOSIVE",2,!0),O("HIFUMI","TRINITY","SUPPLEMENTARY",3,"STRIKER","MYSTIC",6,!0),O("HANAKO","TRINITY","SUPPLEMENTARY",3,"SPECIAL","MYSTIC",5,!0),O("KOHARU","TRINITY","SUPPLEMENTARY",3,"SPECIAL","MYSTIC",4,!0),O("AZUSA","TRINITY","SUPPLEMENTARY",3,"STRIKER","PIERCING",5,!0),O("HARUNA","GEHENNA","GOURMET",3,"STRIKER","MYSTIC",5,!0),O("JUNKO","GEHENNA","GOURMET",2,"STRIKER","EXPLOSIVE",3,!0),O("FUUKA","GEHENNA","GOURMET",2,"SPECIAL","EXPLOSIVE",4,!0),O("HIMARI","MILLENNIUM","SUPERNATURAL",3,"SPECIAL","MYSTIC",6,!0),O("YUUKA","MILLENNIUM","OTHER",3,"STRIKER","EXPLOSIVE",7,!0),O("ASUNA","MILLENNIUM","OTHER",3,"STRIKER","PIERCING",5,!0),O("NERU","MILLENNIUM","OTHER",3,"STRIKER","PIERCING",4,!0),O("NAGISA","TRINITY","SAINTS",3,"SPECIAL","MYSTIC",5,!0),O("MIKA","TRINITY","SAINTS",3,"STRIKER","MYSTIC",6,!0),O("WAKAMO","HYAKKIYAKO","OTHER",3,"STRIKER","EXPLOSIVE",5,!0),O("TOKI","MILLENNIUM","OTHER",3,"STRIKER","PIERCING",4,!0),O("ARONA","MILLENNIUM","OTHER",3,"SPECIAL","MYSTIC",10,!0),O("PLANA","MILLENNIUM","OTHER",3,"SPECIAL","MYSTIC",3,!1)];function U(e){return e.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}function K(){return[{studentId:"ARONA",name:"é˜¿ç½—å¨œ",avatar:R("ARONA"),lastMessage:"è€å¸ˆï¼Œæœ‰ä»€ä¹ˆéœ€è¦å¸®å¿™çš„å—ï¼Ÿ",time:"åˆšåˆš",unreadCount:0,messages:[]}]}function w(){const[e,t]=n.useState(K),[a,r]=n.useState(null),s=e.find(e=>e.studentId===a),i=n.useCallback(e=>{console.log("[MomoTalk] æ”¶åˆ°å›žå¤:",e),e.success?t(t=>t.map(t=>{var a;if(t.studentId.toLowerCase()===e.studentId.toLowerCase()){const r=t.messages.filter(e=>!e.pending).concat({id:`reply-${Date.now()}`,sender:"student",content:e.content||"",time:U(new Date)});return{...t,messages:r,lastMessage:(null==(a=e.content)?void 0:a.substring(0,30))||"",time:"åˆšåˆš"}}return t})):console.error("[MomoTalk] å›žå¤å¤±è´¥:",e.error)},[]);n.useEffect(()=>{const e=e=>{i(e.detail)};return window.addEventListener("studentReply",e),()=>{window.removeEventListener("studentReply",e)}},[i]);const o=n.useCallback(async(e,a)=>{t(t=>t.map(t=>t.studentId===e?{...t,messages:[...t.messages,{id:`user-${Date.now()}`,sender:"player",content:a,time:U(new Date)}],lastMessage:a.substring(0,30),time:"åˆšåˆš"}:t));try{const t=await I.animaChat(e,a);console.log("[MomoTalk] å‘é€æ¶ˆæ¯å“åº”:",t),t.success||console.error("[MomoTalk] å‘é€å¤±è´¥:",t.error)}catch(r){console.error("[MomoTalk] å‘é€æ¶ˆæ¯å¼‚å¸¸:",r)}},[]);return h.jsxs("div",{className:"flex h-full gap-4 animate-fade-in",children:[h.jsxs("div",{className:"w-80 card overflow-hidden flex flex-col",children:[h.jsx("div",{className:"p-4 border-b border-gray-100",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"MomoTalk"})}),h.jsx("div",{className:"flex-1 overflow-auto",children:e.map(e=>h.jsx(T,{studentId:e.studentId,name:e.name,avatar:e.avatar,lastMessage:e.lastMessage,unreadCount:e.unreadCount,time:e.time,isActive:e.studentId===a,onClick:()=>r(e.studentId)},e.studentId))})]}),h.jsx("div",{className:"flex-1 card overflow-hidden flex flex-col",children:s?h.jsx(k,{student:{studentId:s.studentId,name:s.name,avatar:s.avatar},messages:s.messages,onSendMessage:e=>o(s.studentId,e)},s.studentId):h.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-5xl mb-4",children:"ðŸ’¬"}),h.jsx("p",{children:"é€‰æ‹©ä¸€ä¸ªå¯¹è¯å¼€å§‹èŠå¤©"})]})})})]})}function T({name:e,avatar:t,lastMessage:a,unreadCount:r,time:n,isActive:s,onClick:i}){return h.jsxs("button",{onClick:i,className:"w-full p-4 flex items-center gap-3 transition-all duration-200 "+(s?"bg-gradient-to-r from-primary/15 to-primary/5 border-l-4 border-primary":"hover:bg-pink-50/50 border-l-4 border-transparent"),children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-100 to-pink-50 flex items-center justify-center overflow-hidden shadow-sm border border-pink-100/50",children:t?h.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover"}):h.jsx("span",{className:"text-xl font-bold text-primary/60",children:e.charAt(0)})}),h.jsxs("div",{className:"flex-1 text-left min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-semibold text-gray-700 truncate",children:e}),h.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:n})]}),h.jsx("p",{className:"text-sm text-gray-500 truncate mt-0.5",children:a})]}),r>0&&h.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white text-xs flex items-center justify-center font-medium shadow-sm",children:r})]})}function k({student:e,messages:t,onSendMessage:a}){const[r,s]=n.useState(""),[i,o]=n.useState(!1),l=n.useRef(null);n.useEffect(()=>{var e;null==(e=l.current)||e.scrollIntoView({behavior:"smooth"})},[t]);const c=async()=>{if(!r.trim()||i)return;const e=r.trim();s(""),o(!0),a(e),setTimeout(()=>o(!1),500)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 border-b border-pink-100/50 flex items-center gap-3 bg-gradient-to-r from-white to-pink-50/30",children:[h.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-pink-100 to-pink-50 flex items-center justify-center overflow-hidden shadow-sm border border-pink-100/50",children:e.avatar?h.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):h.jsx("span",{className:"text-lg font-bold text-primary/60",children:e.name.charAt(0)})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-700",children:e.name}),h.jsxs("p",{className:"text-xs text-emerald-500 flex items-center gap-1",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),"åœ¨çº¿"]})]})]}),h.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4 bg-gradient-to-b from-white/50 to-transparent",children:[0===t.length?h.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:h.jsx("p",{children:"å‘é€æ¶ˆæ¯å¼€å§‹å¯¹è¯..."})}):t.map(t=>h.jsxs("div",{className:"flex items-end gap-2 "+("player"===t.sender?"justify-end":"justify-start"),children:["student"===t.sender&&h.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-pink-100 to-pink-50 flex-shrink-0 overflow-hidden shadow-sm border border-pink-100/50",children:e.avatar?h.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):h.jsx("span",{className:"w-full h-full flex items-center justify-center text-sm font-bold text-primary/60",children:e.name.charAt(0)})}),h.jsxs("div",{className:`chat-bubble ${"player"===t.sender?"chat-bubble-right":"chat-bubble-left"} ${t.pending?"opacity-60":""}`,children:[h.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:t.content}),h.jsxs("p",{className:"text-xs mt-1 "+("player"===t.sender?"text-white/70":"text-gray-400"),children:[t.time,t.pending&&" (å‘é€ä¸­...)"]})]})]},t.id)),h.jsx("div",{ref:l})]}),h.jsx("div",{className:"p-4 border-t border-pink-100/50 bg-white/80",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("input",{type:"text",value:r,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&c(),placeholder:"è¾“å…¥æ¶ˆæ¯...",disabled:i,className:"flex-1 px-4 py-2.5 rounded-full border border-pink-200/60 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50 bg-pink-50/30 placeholder:text-gray-400 transition-all disabled:opacity-50"}),h.jsx("button",{onClick:c,disabled:!r.trim()||i,className:"px-5 py-2.5 rounded-full font-medium transition-all duration-200 bg-gradient-to-r from-primary to-primary-dark text-white shadow-md hover:shadow-lg hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 disabled:shadow-sm",children:i?"...":"å‘é€"})]})})]})}function H(){const[e,t]=n.useState("ALL"),[a,r]=n.useState("ALL"),s=j.filter(t=>!!t.unlocked&&(("ALL"===e||t.academy===e)&&("ALL"===a||t.club===a))),i=Object.keys(v),o=Object.keys(M);return h.jsxs("div",{className:"space-y-6 animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"å­¦ç”Ÿ"}),h.jsxs("div",{className:"text-sm text-gray-500",children:["å…± ",s.length," / ",j.filter(e=>e.unlocked).length," åå­¦ç”Ÿ"]})]}),h.jsxs("div",{className:"flex gap-4 flex-wrap",children:[h.jsxs("select",{className:"px-3 py-2 rounded-lg border border-gray-200 bg-white text-sm",value:e,onChange:e=>t(e.target.value),children:[h.jsx("option",{value:"ALL",children:"å…¨éƒ¨å­¦é™¢"}),i.map(e=>h.jsx("option",{value:e,children:v[e].name},e))]}),h.jsxs("select",{className:"px-3 py-2 rounded-lg border border-gray-200 bg-white text-sm",value:a,onChange:e=>r(e.target.value),children:[h.jsx("option",{value:"ALL",children:"å…¨éƒ¨ç¤¾å›¢"}),o.map(e=>h.jsx("option",{value:e,children:M[e].name},e))]})]}),h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(e=>h.jsx(L,{student:e},e.id))})]})}function L({student:e}){const t=M[e.club],a=v[e.academy];return h.jsxs("div",{className:"card card-hover p-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",style:{backgroundColor:a.color+"20"},children:e.avatar?h.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):h.jsx("span",{className:"text-2xl font-bold",style:{color:a.color},children:e.name.charAt(0)})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:e.name}),h.jsx("p",{className:"text-sm text-gray-500",children:t.name})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[h.jsx("span",{className:"text-gray-500",children:"å¥½æ„Ÿåº¦"}),h.jsxs("span",{className:"text-primary font-medium",children:["Lv.",e.relationship]})]}),h.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary-light rounded-full transition-all duration-500",style:{width:10*e.relationship+"%"}})})]}),h.jsxs("div",{className:"mt-3 flex gap-2",children:[h.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:a.color+"20",color:a.color},children:a.name}),h.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-600",children:"â˜…".repeat(e.rarity)})]})]})}function C(){return h.jsxs("div",{className:"space-y-6 animate-fade-in",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"å§”æ‰˜ä»»åŠ¡"}),h.jsxs("section",{children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("span",{children:"ðŸ“…"})," æ—¥å¸¸ä»»åŠ¡"]}),h.jsx("div",{className:"space-y-3",children:[{id:"1",title:"é‡‡é›†å°éº¦",progress:5,maxProgress:10,reward:"100 ç»éªŒ"},{id:"2",title:"å‡»æ€åƒµå°¸",progress:3,maxProgress:5,reward:"50 é‡‘å¸"},{id:"3",title:"ä¸Žå­¦ç”Ÿäº¤æµ",progress:1,maxProgress:3,reward:"å¥½æ„Ÿåº¦ +5"}].map(e=>h.jsx(P,{...e},e.id))})]}),h.jsxs("section",{children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("span",{children:"ðŸ“†"})," å‘¨å¸¸ä»»åŠ¡"]}),h.jsx("div",{className:"space-y-3",children:[{id:"4",title:"å®Œæˆå‰¯æœ¬æŒ‘æˆ˜",progress:1,maxProgress:3,reward:"ç¨€æœ‰é“å…·"},{id:"5",title:"æŽ¢ç´¢æ–°åŒºåŸŸ",progress:0,maxProgress:5,reward:"200 ç»éªŒ"}].map(e=>h.jsx(P,{...e},e.id))})]})]})}function P({title:e,progress:t,maxProgress:a,reward:r}){const n=t>=a,s=Math.round(t/a*100);return h.jsxs("div",{className:"card p-4 "+(n?"bg-green-50 border-green-200":""),children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"font-medium text-gray-800",children:e}),h.jsxs("span",{className:"text-sm "+(n?"text-green-600":"text-gray-500"),children:[t,"/",a]})]}),h.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden mb-3",children:h.jsx("div",{className:"h-full rounded-full transition-all duration-500 "+(n?"bg-green-500":"bg-primary"),style:{width:`${s}%`}})}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm text-gray-500",children:["ðŸŽ å¥–åŠ±: ",r]}),n?h.jsx("button",{className:"btn btn-primary text-sm py-1",children:"é¢†å–å¥–åŠ±"}):h.jsx("span",{className:"text-sm text-gray-400",children:"è¿›è¡Œä¸­..."})]})]})}const Y="shittim-browser-zoom",B=()=>{const e=localStorage.getItem(Y);return e?Number(e):100};function D(){const[e,t]=n.useState(80),[a,r]=n.useState(!0),[s,i]=n.useState(!1),[o,l]=n.useState(B);return n.useEffect(()=>{const e=o/100;document.documentElement.style.setProperty("--browser-zoom",String(e)),document.body.style.transform=`scale(${e})`,document.body.style.transformOrigin="top left",document.body.style.width=100/e+"%",document.body.style.height=100/e+"%",localStorage.setItem(Y,String(o))},[o]),h.jsxs("div",{className:"space-y-6 animate-fade-in max-w-2xl",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"è®¾ç½®"}),h.jsxs("section",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ðŸ–¥ï¸ æ˜¾ç¤º"}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"text-gray-700",children:"æµè§ˆå™¨ç¼©æ”¾"}),h.jsxs("span",{className:"text-sm text-gray-500",children:[o,"%"]})]}),h.jsx("input",{type:"range",min:"50",max:"150",step:"5",value:o,onChange:e=>l(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[h.jsx("span",{children:"50%"}),h.jsx("span",{children:"100%"}),h.jsx("span",{children:"150%"})]})]})})]}),h.jsxs("section",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ðŸ”Š éŸ³é¢‘"}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"text-gray-700",children:"ä¸»éŸ³é‡"}),h.jsxs("span",{className:"text-sm text-gray-500",children:[e,"%"]})]}),h.jsx("input",{type:"range",min:"0",max:"100",value:e,onChange:e=>t(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"})]})})]}),h.jsxs("section",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ðŸ”” é€šçŸ¥"}),h.jsx("div",{className:"space-y-4",children:h.jsx(z,{label:"æ¶ˆæ¯é€šçŸ¥",description:"æ”¶åˆ°æ–°æ¶ˆæ¯æ—¶æ˜¾ç¤ºé€šçŸ¥",checked:a,onChange:r})})]}),h.jsxs("section",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ðŸ› ï¸ å¼€å‘è€…é€‰é¡¹"}),h.jsx("div",{className:"space-y-4",children:h.jsx(z,{label:"è°ƒè¯•æ¨¡å¼",description:"åœ¨æŽ§åˆ¶å°æ˜¾ç¤º Bridge è°ƒç”¨æ—¥å¿—",checked:s,onChange:i})})]}),h.jsxs("section",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"â„¹ï¸ å…³äºŽ"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Shittim OS"})," v0.1.0-alpha"]}),h.jsx("p",{children:"Origin of Miracles é¡¹ç›®"}),h.jsx("p",{className:"text-gray-400",children:"Made with â¤ï¸ for Blue Archive"})]})]})]})}function z({label:e,description:t,checked:a,onChange:r}){return h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-800",children:e}),h.jsx("p",{className:"text-sm text-gray-500",children:t})]}),h.jsx("button",{onClick:()=>r(!a),className:"relative w-12 h-6 rounded-full transition-colors "+(a?"bg-primary":"bg-gray-200"),children:h.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow transition-transform "+(a?"translate-x-7":"translate-x-1")})})]})}const G=[{path:"/",element:h.jsx(s,{to:"/home",replace:!0})},{path:"/home",element:h.jsx(x,{})},{path:"/momotalk",element:h.jsx(w,{})},{path:"/momotalk/:studentId",element:h.jsx(w,{})},{path:"/students",element:h.jsx(H,{})},{path:"/students/:studentId",element:h.jsx(H,{})},{path:"/tasks",element:h.jsx(C,{})},{path:"/settings",element:h.jsx(D,{})},{path:"*",element:h.jsx(s,{to:"/home",replace:!0})}];function V(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=V(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}const $={home:h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),momotalk:h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),students:h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),tasks:h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),settings:h.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},F=[{path:"/home",label:"é¦–é¡µ",iconKey:"home"},{path:"/momotalk",label:"MomoTalk",iconKey:"momotalk"},{path:"/students",label:"å­¦ç”Ÿ",iconKey:"students"},{path:"/tasks",label:"ä»»åŠ¡",iconKey:"tasks"},{path:"/settings",label:"è®¾ç½®",iconKey:"settings"}];function Z({children:e}){return h.jsxs("div",{className:"flex h-full w-full overflow-hidden",children:[h.jsxs("nav",{className:"w-20 bg-gradient-to-b from-white to-pink-50/50 backdrop-blur-sm border-r border-pink-100/60 flex flex-col py-4",children:[h.jsx("div",{className:"flex-1 flex flex-col gap-1.5 px-2",children:F.map(e=>h.jsxs(i,{to:e.path,className:({isActive:e})=>function(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=V(e))&&(r&&(r+=" "),r+=t);return r}("flex flex-col items-center justify-center py-3 rounded-xl transition-all duration-200",e?"bg-gradient-to-br from-primary to-primary-dark text-white shadow-lg shadow-primary/25":"text-gray-500 hover:bg-pink-100/50 hover:text-primary"),children:[$[e.iconKey],h.jsx("span",{className:"text-[11px] mt-1.5 font-medium",children:e.label})]},e.path))}),h.jsx("div",{className:"px-2 pt-4 border-t border-pink-100/60",children:h.jsxs("div",{className:"flex flex-col items-center text-primary/60",children:[h.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5h3m-6.75 2.25h10.5a2.25 2.25 0 002.25-2.25v-15a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 4.5v15a2.25 2.25 0 002.25 2.25z"})}),h.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Shittim"})]})})]}),h.jsx("main",{className:"flex-1 overflow-hidden",children:h.jsx("div",{className:"h-full overflow-auto p-6",children:e})})]})}function W(){return h.jsx("div",{className:"flex items-center justify-center h-screen w-screen bg-gradient-to-br from-secondary to-secondary-dark",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:"ðŸ“±"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Shittim OS"}),h.jsx("p",{className:"text-gray-500 mb-8",children:"ä»€äº­ä¹‹ç®±"}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),h.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"æ­£åœ¨è¿žæŽ¥ Minecraft..."})]})})}function X(){const e=A(),t=o(G);return e?h.jsx(Z,{children:t}):h.jsx(W,{})}u.createRoot(document.getElementById("root")).render(h.jsx(n.StrictMode,{children:h.jsx(l,{children:h.jsx(X,{})})}));
